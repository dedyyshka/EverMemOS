version: '3.8'

services:
  devcontainer:
    image: ghcr.io/astral-sh/uv:python3.12-bookworm
    container_name: evermemos-devcontainer
    volumes:
      - ..:/workspace:cached
    command: sleep infinity
    environment:
      # Infrastructure service hostnames (use Docker service names)
      REDIS_HOST: redis
      MONGODB_HOST: mongodb
      ES_HOSTS: http://elasticsearch:9200
      MILVUS_HOST: milvus-standalone
      MINIO_ADDRESS: milvus-minio:9000
    networks:
      - memsys-network
    depends_on:
      - mongodb
      - elasticsearch
      - redis
      - milvus-standalone
